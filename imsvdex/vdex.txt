DocTest for the vdex module
---------------------------

(c) 2007 by Martin Raspe (hertzhaft@biblhertz.it)

    >>> from imsvdex.vdex import VDEXManager, VDEXError
    >>> from io import StringIO
    >>> from os import path
    >>> from pkg_resources import resource_filename

Parse a test XML string

    >>> filename = resource_filename('imsvdex', path.join('tests', 'test.xml'))
    >>> file=open(filename)
    >>> vm=VDEXManager(file)

    >>> vm.getVocabName()
    'Person'

    >>> vm.getVocabName(lang='it')
    'Persona'

    >>> vm.getVocabIdentifier()
    'it.biblhertz.zuccaro.vocabs.person_person'

    >>> vm.getTermCaptionById('relative',lang='de')
    'ist verwandt mit'

    >>> vm.getTermCaptionById('relative',lang='en')
    'is relative of'

    >>> vm.getTermCaptionById('relative')
    'is relative of'

For lang='*' return a dictionary with all translations keyed by language

    >>> term = vm.getTermCaptionById('relative',lang='*')
    >>> len(term.keys())
    4

    >>> term['fr']
    'est parent avec'

    >>> term['de']
    'ist verwandt mit'

    >>> term['en']
    'is relative of'

    >>> term['it']
    'Ã¨ parente di'

    >>> vm.getTermDescriptionById('relative',lang='*')
    {}

Get it all (for Archetypes)

    >>> term = vm.getVocabularyDict(lang='de')
    >>> len(term.keys())
    2

    >>> term['identical']
    ('(unnamed term)', None)

    >>> term['relative']
    ('ist verwandt mit', {'child': ('ist Kind von', None)})

A variant

    >>> file=open(filename)

    >>> vm=VDEXManager(file,fallback="True")

Don't return "(unnamed term)" for a missing term, return the caption in the default language instead

    >>> vm.getTermCaptionById('identical')
    'is identical with'

    >>> vm.getTermCaptionById('identical',lang='de')
    'is identical with'

    >>> e = vm.getTermWildcardById('identical', 'ns:zuccaro.biblhertz.it', 'test')
    >>> e[0].text
    'Schas'

Try to parse from a string

    >>> file = open(filename)
    >>> xmlstring = file.read()
    >>> vm=VDEXManager(xmlstring)

Try to parse an empty string

    >>> xmlstring = ''
    >>> try:
    ...  vm=VDEXManager(xmlstring)
    ... except VDEXError:
    ...  result = 'error'
    >>> result
    'error'

